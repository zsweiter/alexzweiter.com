---
import Github from '@/components/icons/GitHubMono.astro';
import ExternalLink from '@/components/icons/ExternalLink.astro';

interface Props {
    index: number;
    title: string;
    description: string;
    status: string;
    stack: string[];
    preview: string | null;
    repository: string;
    created_at: string;
}

const props = Astro.props;
---

<div
    class="group relative bg-slate-900/50 border border-slate-800/50 p-8 rounded-lg hover:border-cyan-500/50 transition-all duration-500 flex flex-col h-full"
    style={`--translate-y: 16%;`}
>
    <div
        class="flex justify-between items-baseline mb-4 font-mono text-xs text-gray-500 group-hover:text-cyan-400 transition-colors"
    >
        <span>0{props.index + 1}</span>
        <span>{props.status}</span>
    </div>

    <h2
        class="font-sans flex items-center gap-4 tracking-wider text-2xl md:text-3xl font-bold text-white mb-4 group-hover:text-cyan-100 transition-colors"
    >
        {props.title}
        <div class="flex items-center gap-4">
            {
                props.repository && (
                    <a
                        class="hover:text-red-500 transition-colors"
                        href={props.repository}
                        target="_blank"
                        rel="noopener noreferrer"
                    >
                        <Github class="size-4" />
                    </a>
                )
            }
            {
                props.preview && (
                    <a
                        class="hover:text-red-500 transition-colors"
                        href={props.preview}
                        target="_blank"
                        rel="noopener noreferrer"
                    >
                        <ExternalLink class="size-4" />
                    </a>
                )
            }
        </div>
    </h2>

    <p class="font-p text-gray-400 mb-6 leading-relaxed grow">{props.description}</p>

    <div class="flex flex-wrap gap-2">
        {
            props.stack.map(tech => (
                <span class="text-[10px] font-p uppercase tracking-wider px-3 py-1 bg-white/5 text-slate-300 rounded-full border border-white/10">
                    {tech}
                </span>
            ))
        }
    </div>

    <div
        class="absolute inset-0 bg-linear-to-br from-cyan-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 -z-10 rounded-lg"
    >
    </div>
</div>
